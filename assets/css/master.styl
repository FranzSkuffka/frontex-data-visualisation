@import '_settings'
@import '_typographic'

reset-css()
typographic()
border-box-html()



// MIXINS

shadeBackground()
    *
        relative()
        z-index 100


// BASE
body
    border-right 1px solid black
    width 1920px
    margin 0
    letter-spacing vr-block(0.03)

#FrontexVisualisation
    width 1920px
    margin 0 auto

h1
    text-transform uppercase
    width 0


.Section-visualisation
    relative()
    min-height vr-block(24)
    z-index 100

map-vis
    display block
    size vr-block(13)
    size 100% 
    absolute top 0 left 0
    z-index 100

sidebarWidth = 12
.Sidebar
    pointer-events none
    absolute top vr-block(-5) right vr-block(2)
    z-index 200
    width vr-block(sidebarWidth + 3)
    padding vr-block(4) vr-block(3) vr-block(2) vr-block(0)
    height vr-block(30)
    p
        margin-top vr-block(13)
    &:before
        absolute top 0 left vr-block(-3)
        display block
        content ''
        width vr-block(3)
        height 100%
        pointer-events none
        z-index -1

// NAVIGATION

nav
    z-index 3000
    fixed top 0 left 0
    display flex
    padding vr-block(2)
    opacity 0.5
    transition 0.3s
    &:hover
        opacity 1
    .&-heading
        font-family 'Input sans'
        &.nav-heading
            margin 0
            float left
            width vr-block(3)

    ul
        &.nav
            margin 0
        list-style-type none
        padding-left 0
        li
            float left
            margin-right vr-block(1)

    a
        color base03
        text-transform uppercase
        letter-spacing vr-block(0.03)
        font-weight 300
        text-decoration none
        background base01
        color base3
        pointer-events all
        &:hover
            background base03

// MAP STYLES

.datamaps-subunit
    stroke-width 0.2 !important
.interactable-country
    cursor pointer


.datamaps-hoverover .hoverinfo
    border none
    box-shadow none
    t-html()
    font-family 'Input Mono'
    border-radius none
    strong
        font-weight 300






// STREAM GRAPH

stream-vis
    overflow visible
    size vr-block(sidebarWidth) vr-block(10)
    display block
    float right
    .&-svg
        overflow visible
        size 100%
        display block
    text
        fill black
    .stream-layer
        transition 0.2s
        cursor pointer
        &.hinted
            opacity 1 !important
        fill black
    display block
    svg
        display block
    .Graph
        pointer-events all

.axisY
    .tick
        line
            transition 0.1s
            stroke-dasharray 1px 5px
        text
            transform translateX(-30px)
            font-family 'Input Sans Condensed'
.axisX
    .tick
        line
            transition 0.1s
            stroke white
            stroke-width 1px
            stroke-dasharray 1px 5px
        text
            transform translate3d(vr-block(1.2), vr-block(0.8), 0) rotate(30deg)
            font-family monospace
.tick
    &:hover
        line
            stroke-dasharray 5, 10
            stroke-width 2
        text
    line
        transition 0.1s
    text
        transition 0.1s






// SECTIONS


.Section
    relative()
    flex-wrap wrap
    align-items center
    justify-content space-between

    &-story
        height 90vh
        relative()

        background-size cover !important
        shadeBackground()
    &-text
        padding vr-block(5) vr-block(5) vr-block(3) vr-block(18)
        width vr-block(45)
        h5
            line-height 1.5
    &-visualisation
        display flex
        justify-content space-between

.Section-heading
    height 10vh
    &:hover
        height 80vh
    absolute top vr-block(4) left 0
    margin-left vr-block(5)
    width vr-block(10)
    padding-bottom vr-block(1)
    z-index 1000
    h2
        absolute bottom 0 left 0


#Outro
    padding vr-block(5)
    background base2
    color base03
#Intro
.Section
    overflow hidden
#Intro
    padding vr-block(3) vr-block(5)
    p
        width vr-block(22)
        padding-top vr-block(1)
        relative()
        z-index 100
        color base02
    .creators
        font-family 'Input Sans'
        font-weight 300
        opacity 0.5
        transition 0.3s
        &:hover
            opacity 1
    background base3
    color base01
    &:before
        pointer-events none
        content ''
        absolute top 0 left 0
        size 100%
        display block
        background-size cover
        background-image url('../img/refugee-boat.jpg')
        opacity 0.2

.Section-storyBackground
    content ''
    absolute top 0 left 0
    size 100% 150%
    display block
    background-size cover
    opacity 0.4
    #Crossings &
        background-image url('../img/fence.jpg')
    #Refusals &
        background-image url('../img/soldiers.jpg')
        background-position bottom
    #Stays &
        background-image url('../img/syrian-refugees.jpg')
    #ReturnDecisions &
        background-image url('../img/refugee-camp.jpg')
    #EffectiveReturns &
        background-image url('../img/yazidi-refugees.jpg')
        background-position bottom

