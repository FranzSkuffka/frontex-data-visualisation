@import '_settings'
@import '_typographic'

reset-css()
typographic()
border-box-html()

grid-overlay()




// MIXINS

shadeBackground()
    *
        relative()
        z-index 100





// BASE
body
    border-right 1px solid black
    width 1920px
    margin 0
    letter-spacing vr-block(0.03)

#FrontexVisualisation
    width 1920px
    margin 0 auto

h1
    text-transform uppercase
    width 0


.Section-visualisation
    relative()
    min-height vr-block(24)

map-vis
    display block
    size vr-block(13)
    size 100% 
    absolute top 0 left 0
    z-index 100

sidebarWidth = 12
.Sidebar
    pointer-events none
    absolute top vr-block(-5) right vr-block(2)
    z-index 200
    width vr-block(sidebarWidth + 3)
    padding vr-block(4) vr-block(3) vr-block(2) vr-block(0)
    height vr-block(30)
    p
        margin-top vr-block(13)
    &:before
        absolute top 0 left vr-block(-3)
        display block
        content ''
        width vr-block(3)
        height 100%
        pointer-events none
        z-index -1




// MAP STYLES

.datamaps-subunit
    stroke-width 0.2 !important
.interactable-country
    cursor pointer


.datamaps-hoverover .hoverinfo
    border none
    box-shadow none
    t-html()
    font-family 'Input Mono'
    border-radius none
    strong
        font-weight 300






// STREAM GRAPH

stream-vis
    overflow visible
    size vr-block(sidebarWidth) vr-block(10)
    display block
    float right
    .&-svg
        overflow visible
        size 100%
        display block
    text
        fill black
    .stream-layer
        transition 0.2s
        cursor pointer
        &.hinted
            opacity 1 !important
        fill black
    display block
    svg
        display block
    .Graph
        pointer-events all

.axisY
    .tick
        line
            transition 0.1s
            stroke-dasharray 1px 5px
        text
            transform translateX(-30px)
            font-family 'Input Sans Condensed'
.axisX
    .tick
        line
            transition 0.1s
            stroke white
            stroke-width 1px
            stroke-dasharray 1px 5px
        text
            transform translate3d(vr-block(1.2), vr-block(0.8), 0) rotate(30deg)
            font-family monospace
.tick
    &:hover
        line
            stroke-dasharray 5, 10
            stroke-width 2
        text
    line
        transition 0.1s
    text
        transition 0.1s






// SECTIONS
#Intro
    padding vr-block(5) vr-block(5)
    p
        width vr-block(22)
        padding-top vr-block(1)

.Section
    flex-wrap wrap
    align-items center
    justify-content space-between

    &-story
        relative()
        width vr-block(45)

        background-size cover !important
        shadeBackground()

        .Section-heading
            absolute top vr-block(4) left 0
            margin-left vr-block(5)
            width vr-block(10)
            padding-bottom vr-block(1)
    &-text
        padding vr-block(5) vr-block(5) vr-block(3) vr-block(18)


    &-visualisation
        display flex
        justify-content space-between


#Outro
    padding vr-block(5)
    background base2
    color base03
#Intro
.Section
    overflow hidden
#Intro
    background base3
    color base01



// Color Schemes
.Section.dark
    .Sidebar
        background transparentify(base02, base02, 0.7)
        &:before
            background transparentify(base02, base02, 0.3)
    .Section-heading
        background base3
        color base02
    .datamaps-subunits
        fill base01
    background base02
    color base2

    text
    .stream-layer
        fill base3
    .datamaps-hoverover .hoverinfo
        background base03
        color base3

.Section.light
    .Sidebar
        background transparentify(base2, base2, 0.8)
        &:before
            background transparentify(base2, base2, 0.4)
    .Section-heading
        background base03
        color base2
    .datamaps-subunits
        fill base1
    background base2
    color base02

    text
    .stream-layer
        fill base03
    .datamaps-hoverover .hoverinfo
        background base3
        color base03

.Section.red
    .datamaps-subunit.highlighted
        fill red !important
.Section.blue
    .datamaps-subunit.highlighted
        fill blue !important
.Section.magenta
    .datamaps-subunit.highlighted
        fill magenta !important
.Section.green
    .datamaps-subunit.highlighted
        fill green !important
